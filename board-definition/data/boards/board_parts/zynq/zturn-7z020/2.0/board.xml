<?xml version="1.0" encoding="UTF-8" standalone="no" ?><!--
################################################################################
#
#  MYiR ZTurn Zynq 7010 Board Definition File
#
#  Sergiusz 'q3k' BazaÅ„ski <q3k@q3k.org>
#  Steffen 'stv0g' Vogel <stv0g@0l.de>
#
################################################################################-->

<board schema_version="2.0"
	vendor="myir.com"
	name="mys-7z020"
	display_name="Z-turn (MYS-7Z020-C)"
	url="http://www.myirtech.com/list.asp?id=502"
	preset_file="preset.xml">

	<images>
		<image name="zturn.jpg" display_name="Z-turn Board" sub_type="board">
			<description>Z-turn Board top image</description>
		</image>
	</images>

	<description>The Z-turn board is a cheap Zynq 7020 evaluation board from the Chinese company MYiR.</description>

	<file_version>2.0</file_version>

	<compatible_board_revisions>
		<revision id="0">4</revision>
	</compatible_board_revisions>

	<jumpers>
		<jumper name="JP1">
			<description>Selects the boot mode of the PS:
  If JP1 is set and JP2 is set:     QSPI.
  If JP1 is set and JP2 is not set: JTAG.
  If JP1 is not set and JP2 is set: SD card.
  If JP1 is not set and JP2 is not set: NAND flash.</description>
		</jumper>
		<jumper name="JP2">
			<description>Selects the boot mode of the PS. See JP1.</description>
		</jumper>
	</jumpers>

	<components>
		<component name="part0" display_name="Z-turn Zynq Board"
			type="fpga" part_name="xc7z010clg400-1" pin_map_file="part0_pins.xml"
			vendor="xilinx" spec_url="http://www.xilinx.com/products/silicon-devices/soc/zynq-7000/">

			<description>Zynq SoC on the board</description>

			<interfaces>
				<interface mode="master" name="ps7_fixedio" type="xilinx.com:display_processing_system7:fixedio_rtl:1.0" of_component="ps7_fixedio" preset_proc="ps7_preset"></interface>

				<interface mode="master" name="rgb_led" type="xilinx.com:interface:gpio_rtl:1.0" of_component="rgb_led" preset_proc="rgb_led_preset">
					<preferred_ips>
						<preferred_ip vendor="xilinx.com" library="ip" name="axi_gpio" order="0" />
					</preferred_ips>
					<port_maps>
						<port_map logical_port="TRI_O" physical_port="rgb_led_tri_o" dir="out" left="2" right="0">
							<pin_maps>
								<pin_map port_index="0" component_pin="rgb_led_tri_o_0" />
								<pin_map port_index="1" component_pin="rgb_led_tri_o_1" />
								<pin_map port_index="2" component_pin="rgb_led_tri_o_2" />
							</pin_maps>
						</port_map>
					</port_maps>
				</interface>

				<interface mode="master" name="buzzer" type="xilinx.com:interface:gpio_rtl:1.0" of_component="buzzer" preset_proc="buzzer_preset">
					<preferred_ips>
						<preferred_ip vendor="xilinx.com" library="ip" name="axi_gpio" order="0" />
					</preferred_ips>
					<port_maps>
						<port_map logical_port="TRI_O" physical_port="buzzer_tri_o" dir="out">
							<pin_maps>
								<pin_map port_index="0" component_pin="buzzer_tri_o_0" />
							</pin_maps>
						</port_map>
					</port_maps>
				</interface>

				<interface mode="master" name="sws_4bits" type="xilinx.com:interface:gpio_rtl:1.0" of_component="sws_4bits" preset_proc="sws_4bits_preset">
					<preferred_ips>
						<preferred_ip vendor="xilinx.com" library="ip" name="axi_gpio" order="0" />
					</preferred_ips>
					<port_maps>
						<port_map logical_port="TRI_I" physical_port="sws_4bits_tri_i" dir="in" left="3" right="0">
							<pin_maps>
								<pin_map port_index="0" component_pin="sws_4bits_tri_i_0" />
								<pin_map port_index="1" component_pin="sws_4bits_tri_i_1" />
								<pin_map port_index="2" component_pin="sws_4bits_tri_i_2" />
								<pin_map port_index="3" component_pin="sws_4bits_tri_i_3" />
							</pin_maps>
						</port_map>
					</port_maps>
				</interface>

				<!-- TODO
				<interface mode="master" name="i2c0" type="xilinx.com:interface:iic_rtl:1.0">
					<description>I2C Interface for onboard G-rate and temperature sensors</description>
				</interface>-->
			</interfaces>
		</component>

		<component name="ps7_fixedio" display_name="PS7 fixed IO" type="chip" sub_type="fixed_io" major_group="" />

		<component name="buzzer" display_name="Piezo Buzzer" type="chip" sub_type="led" major_group="General Purpose Input or Output">
			<description>Piezo Buzzer on Board (Schematic: M1)</description>
		</component>

		<component name="rgb_led" display_name="RGB LED" type="chip" sub_type="led" major_group="General Purpose Input or Output">
			<description>RGB LED, 2 to 0, Active Low (Schematic: D34)</description>
		</component>

		<component name="sws_4bits" display_name="DIP switches" type="chip" sub_type="switch" major_group="General Purpose Input or Output">
			<description>DIP Switches, 3 to 0 (Schematic: U20)</description>
		</component>

		<!-- TODO
		<component name="adxl345" display_name="ADXL345 Digital MEMS Accelerometer" type="chip" sub_type="sensor">
			<description>Slave on I2C0 bus. Address: @0x53</description>
		</component>

		<component name="stlm75" display_name="STLM75 Digital temperature sensor and thermal watchdog" type="chip" sub_type="sensor">
			<description>Slave on I2C0 bus. Address: @0x49</description>
		</component>-->

		<!-- Those components are hardwired to the PS. Therefore are not really needed here..
		<component name="sii9022a" display_name="Silicon Image HDMI Transmitter SiI9022A" type="chip" major_group="Video Transmitter" />

		<component name="ddr3_sdram" display_name="DDR3 SDRAM"
			type="chip" sub_type="ddr3"
			major_group="External Memory" part_name="MT41K256M16HA-125:E" vendor="Micron"
			spec_url="www.micron.com/memory">
			<description>1GB DDR3 SDRAM (2x 512 MB), 32bit Data line (Schematic: U4 + U5)</description>
		</component>

		<component name="spi_flash" display_name="SPI Flash"
			type="chip" sub_type="flash"
			major_group="External Memory" part_name="W25Q128BVFIG" vendor="Winbond"
			spec_url="www.micron.com/memory">
			<description>16MB SPI Flash (Schematic: U6)</description>
		</component>-->
	</components>

	<jtag_chains>
		<jtag_chain name="chain1">
			<position name="0" component="part0" />
		</jtag_chain>
	</jtag_chains>

	<connections>
		<connection name="part0_rgb_led" component1="part0" component2="rgb_led">
			<connection_map name="part0_rgb_led_1" c1_st_index="4" c1_end_index="6" c2_st_index="0" c2_end_index="2" />
		</connection>

		<connection name="part0_sws_4bits" component1="part0" component2="sws_4bits">
			<connection_map name="part0_sws_4bits_1" c1_st_index="0" c1_end_index="3" c2_st_index="0" c2_end_index="3" />
		</connection>
	</connections>
</board>
